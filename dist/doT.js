"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var config={evaluate:/\<\?js([\s\S]+?)\?\>/g,interpolate:/\<\?js=([\s\S]+?)\?\>/g,encode:/\<\?js!([\s\S]+?)\?\>/g,use:/\<\?js-\s*([\s\S]+?)\s*\?\>/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/(?:\<\?js|\{\{)#\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)(?:;\s*\?\>|\}\})/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,varname:"$this",strip:!0};function encodeHTMLSource(){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(t,function(e){return n[e]||e}):""}}function resolveDefs(o,e,c){return("string"==typeof e?e:e.toString()).replace(o.define,function(e,r,n,t){return(r=0===r.indexOf("def.")?r.substring(4):r)in c||(":"===n?(t.replace(o.defineParams,function(e,n,t){c[r]={arg:n,text:t}}),r in c||(c[r]=t)):new Function("def","def['"+r+"']="+t)(c)),""}).replace(o.use,function(e,n){n=n.replace(o.useParams,function(e,n,t,r){if(c[t]&&c[t].arg&&r){var o=(t+":"+r).replace(/'|\\/g,"_");return c.__exp=c.__exp||{},c.__exp[o]=c[t].text.replace(new RegExp("(^|[^\\w$])"+c[t].arg+"([^\\w$])","g"),"$1"+r+"$2"),n+"def.__exp['"+o+"']"}});n=new Function("def","return "+n)(c);return n&&resolveDefs(o,n,c)})}function template(e,n,t){var r,o=resolveDefs(n=n||doT.config,e,t||{}),o=("var out='"+(n.strip?o.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):o).replace(/<!\x2D\x2D([\s\S]*?)\x2D\x2D>/g,"").replace(/'|\\/g,"\\$&").replace(n.interpolate,function(e,n){return"'+("+n.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")+")+'"}).replace(n.encode,function(e,n){return r=!0,"'+encodeHTML("+n.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")+")+'"}).replace(n.evaluate,function(e,n){return"';"+n.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");("undefined"!=typeof module&&module.exports||"function"==typeof define&&define.amd)&&(o="var { location, navigator } = $this && $this.global || {};"+o),r&&(o='var encodeHTML = typeof _encodeHTML !== "undefined" ? _encodeHTML : ('+encodeHTMLSource.toString()+"());"+o);try{return new Function(n.varname,o)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+o),e}}function compile(e,n){return template(e,null,n)}var doT={config:config,template:template,compile:compile};"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(window.doT=doT),"object"==("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=doT);