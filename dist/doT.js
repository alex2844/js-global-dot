"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var config={evaluate:/\<\?js([\s\S]+?)\?\>/g,interpolate:/\<\?js=([\s\S]+?)\?\>/g,encode:/\<\?js!([\s\S]+?)\?\>/g,use:/\<\?js-\s*([\s\S]+?)\s*\?\>/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/(?:\<\?js|\{\{)#\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)(?:;\s*\?\>|\}\})/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,varname:"$this",strip:!0};function encodeHTMLSource(){var n={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e||"number"==typeof e?e.toString().replace(t,function(e){return n[e]||e}):""}}function resolveDefs(r,e,c){return("string"==typeof e?e:e.toString()).replace(r.define,function(e,o,n,t){return(o=0===o.indexOf("def.")?o.substring(4):o)in c||(":"===n?(t.replace(r.defineParams,function(e,n,t){c[o]={arg:n,text:t}}),o in c||(c[o]=t)):new Function("def","def['"+o+"']="+t)(c)),""}).replace(r.use,function(e,n){n=n.replace(r.useParams,function(e,n,t,o){if(c[t]&&c[t].arg&&o){var r=(t+":"+o).replace(/'|\\/g,"_");return c.__exp=c.__exp||{},c.__exp[r]=c[t].text.replace(new RegExp("(^|[^\\w$])"+c[t].arg+"([^\\w$])","g"),"$1"+o+"$2"),n+"def.__exp['"+r+"']"}});n=new Function("def","return "+n)(c);return n&&resolveDefs(r,n,c)})}function unescape(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}function template(e,n,t){var o,r=resolveDefs(n=n||doT.config,e,t||{}),r=("var out='"+(n.strip?r.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):r).replace(/<!\x2D\x2D([\s\S]*?)\x2D\x2D>/g,"").replace(/'|\\/g,"\\$&").replace(n.interpolate,function(e,n){return"'+("+unescape(n)+")+'"}).replace(n.encode,function(e,n){return o=!0,"'+encodeHTML("+unescape(n)+")+'"}).replace(n.evaluate,function(e,n){return"';"+unescape(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");("undefined"!=typeof module&&module.exports||"function"==typeof define&&define.amd)&&(r="var { location, navigator } = $this && $this.global || {};"+r),o&&(r='var encodeHTML = typeof _encodeHTML !== "undefined" ? _encodeHTML : ('+encodeHTMLSource.toString()+"());"+r);try{return new Function(n.varname,r)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+r),e}}function compile(e,n){return template(e,null,n)}var doT={config:config,template:template,compile:compile};"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(window.doT=doT),"object"==("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=doT);